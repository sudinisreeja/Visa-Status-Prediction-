# -*- coding: utf-8 -*-
"""Visa Status Prediction .ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ZcMEKrTqNC0L7UIcfFNpQMU2va9YxMAK
"""

# import packages
import pandas as pd
import numpy as np

df = pd.read_csv('/content/Status of Visa.csv')

# Look into the file
print(df.head())

# Exploring the dataset
print(df.info())

#shapes
print(df.shape)

# Statistical values
print("Total Employees: ", df['EMPLOYER_NAME'].count())
print("Average salary: ", df['PREVAILING_WAGE'].mean())
print("Department-wise Employee Count: ", df['JOB_TITLE'].value_counts())

# Handling the Missing values in each column
print(df.isnull().sum())

# Calculating the Processing Days
df['APPLICATION DATE']= pd.to_datetime(df['APPLICATION DATE'], dayfirst=True, errors='coerce')
df['DECISION DATE']= pd.to_datetime(df['DECISION DATE'], dayfirst=True, errors='coerce')
df["processing_days"] = (df["DECISION DATE"] - df["APPLICATION DATE"]).dt.days
print("\nAfter calculating processing days:\n", df)

df_encoded = pd.get_dummies(df, columns=["VISA TYPE", "EDUCATION"])
print("\nEncoded DataFrame:\n", df_encoded)
# converts the text to numeric columns
# one-hot encoding - as the ML model requires the numeric data

df.to_csv('Visa Status Prediction Cleaned Dataset.csv', index=False)